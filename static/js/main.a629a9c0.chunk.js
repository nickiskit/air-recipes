(this["webpackJsonpair-recipes"]=this["webpackJsonpair-recipes"]||[]).push([[0],{80:function(e,t,c){},82:function(e,t,c){},90:function(e,t,c){},92:function(e,t,c){},94:function(e,t,c){},95:function(e,t,c){},96:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c.n(n),s=c(11),r=c.n(s),a=(c(80),c(38)),l=c(45),o=c(62),j=c(68),u=c(67),d=c(31),h=c(12),b=c(30),p=c.n(b),O=c(51),x=function e(){var t=this;Object(l.a)(this,e),this.mainUrl="https://test.kode-t.ru/",this.listPath="list.json",this.getData=function(){var e=Object(O.a)(p.a.mark((function e(c){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.mainUrl+c);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Error: ".concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getList=Object(O.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getData(t.listPath);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.getItem=function(){var e=Object(O.a)(p.a.mark((function e(c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getData("detail_".concat(c,".json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=c(33),f=c.n(m),g=c(41),v=(c(82),c(60),c(83),c(2)),C={backgroundColor:"white"},y=function(e){var t=e/60;return t<60?t+" min ":k(t)+" hours "},k=function(e){return Math.floor(e/60*10)/10},w=function(e){var t=e.recipes;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("section",{className:"main",children:t.map((function(e){return Object(v.jsx)("div",{className:"my-card",children:Object(v.jsxs)(f.a,{outlined:!0,children:[Object(v.jsx)(d.b,{to:"/recipes/".concat(e.id),children:Object(v.jsx)(m.CardPrimaryContent,{children:Object(v.jsx)(m.CardMedia,{wide:!0,imageUrl:e.thumbnail,children:Object(v.jsx)("div",{className:"icons",children:Object(v.jsxs)(g.ChipSet,{children:[Object(v.jsx)(g.Chip,{id:y(e.cookTime),label:y(e.cookTime),style:C}),Object(v.jsx)(g.Chip,{id:e.caloricity+"kCal",label:e.caloricity+"kCal",style:C}),Object(v.jsx)(g.Chip,{id:e.cuisine.title,label:e.cuisine.title,style:C})]})})})})}),Object(v.jsxs)("div",{className:"mdc-card__content",children:[Object(v.jsx)("h3",{children:e.title}),Object(v.jsx)("p",{children:e.description})]})]})},e.id)}))})})},_=c(19),N=c(129),I=c(34),R=c.n(I),S=c(134),F=c(44),P=c(137),E=c(135),A=c(133),L=(c(90),c(91),["Caribbean","Greek","French","Indian","Chinese"]),D={Caribbean:!0,Greek:!0,French:!0,Indian:!0,Chinese:!0},B=[100,1200],M=function(e){var t=e.openClose,c=e.filterRecipes,i=e.cuisines,s=e.values,r=e.changeParams,l=e.resetFilter,o=Object(n.useState)(i),j=Object(_.a)(o,2),u=j[0],h=j[1],b=Object(n.useState)(l),p=Object(_.a)(b,2),O=p[0],x=p[1],m=Object(n.useState)(s),g=Object(_.a)(m,2),C=g[0],y=g[1],k=function(e){var t=Object(a.a)(Object(a.a)({},u),{},Object(F.a)({},e.target.value,e.target.checked));h(t),w()},w=function(){l||x(!0)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"popup__background",onClick:function(){return t(!1)}}),Object(v.jsx)("div",{className:"popup__card",children:Object(v.jsx)(f.a,{outlined:!0,children:Object(v.jsxs)("div",{className:"card__content",children:[Object(v.jsx)("h3",{children:"Filter"}),Object(v.jsx)(N.a,{style:{padding:0,position:"absolute",top:"21px",right:"21px"},onClick:function(){return t(!1)},children:Object(v.jsx)(R.a,{icon:"close"})}),Object(v.jsx)("ul",{children:L.map((function(e,t){var c;return Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{children:e}),Object(v.jsx)(E.a,{checked:null===(c=u[e])||void 0===c||c,value:e,color:"default",onChange:k})]},t)}))}),Object(v.jsx)(P.a,{id:"calories",name:"calories",max:1200,min:100,value:C,valueLabelDisplay:"on","aria-labelledby":"range-slider",onChange:function(e,t){y(t),w()}}),O&&Object(v.jsx)(A.a,{className:"button-clear",onClick:function(){x(!1),y(B),h(D)},children:"CLEAR"}),Object(v.jsx)(d.b,{to:"/",children:Object(v.jsx)(A.a,{className:"button-show",onClick:function(){c({cuisines:u,calories:C}),r(u,C,O),t(!1)},children:"SHOW RECIPES"})})]})})})]})},T=c(136),U=(c(92),c(61),c(93),function(e){var t=e.filterRecipes,c=e.cuisines,i=e.values,s=e.changeParams,r=e.resetFilter,a=e.serachRecipes,l=Object(n.useState)(!1),o=Object(_.a)(l,2),j=o[0],u=o[1],d=Object(n.useState)(!1),h=Object(_.a)(d,2),b=h[0],p=h[1],O=Object(n.useState)(""),x=Object(_.a)(O,2),m=x[0],f=x[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("header",{id:"header-id",children:Object(v.jsxs)("div",{className:"header__content",children:[Object(v.jsx)("h1",{children:"Air Recipes"}),Object(v.jsx)("p",{children:"Best Recipes for Best People"}),Object(v.jsxs)("div",{className:"header__searchbar",children:[Object(v.jsx)(S.a,{className:"inputRounded",placeholder:"Search",onKeyPress:function(e){var t=e.target.value;"Enter"===e.key&&(t.length&&p(!0),a(t))},InputLabelProps:{shrink:!0},variant:"outlined",value:m,onChange:function(e){f(e.target.value)},InputProps:{startAdornment:Object(v.jsx)(T.a,{position:"start",children:Object(v.jsx)(R.a,{icon:"search",style:{color:"#A9A9A9"}})}),endAdornment:Object(v.jsx)(T.a,{position:"end",children:b&&Object(v.jsxs)(N.a,{style:{padding:0,border:"none",background:"none",width:"15px",height:"15px"},children:[Object(v.jsx)(R.a,{icon:"cancel",onClick:function(){p(!1),f(""),a("")}})," "]})})}}),Object(v.jsx)(N.a,{onClick:function(){return u(!0)},children:Object(v.jsx)(R.a,{icon:"filter_list"})})]})]})}),j&&Object(v.jsx)(M,{openClose:u,filterRecipes:t,cuisines:c,values:i,changeParams:s,resetFilter:r})]})}),G=c(42),H=c(63),V=c(64),z=c(65),J=c(66),K=(c(94),function(e){var t=e.images,c=Object(n.useState)(t[0]),i=Object(_.a)(c,2),s=i[0],r=i[1],a=function(e){r(e.target.src)};return Object(v.jsxs)("div",{className:"images-gallery",children:[Object(v.jsx)("img",{className:"selected",src:s,alt:""}),Object(v.jsx)("div",{className:"images-set",children:t.map((function(e,t){return Object(v.jsx)("img",{className:"image-icon",src:e,alt:"",onClick:a},t)}))})]})}),W=(c(95),new x),Y={easy:"#2FB65D",medium:"#EB8A31",hard:"#EB3C31"},q=function(e){var t=e/60;return t<60?t+" min ":Q(t)+" hours "},Q=function(e){return Math.floor(e/60*10)/10},X=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Z=function(e){return" "+e+" "},$=function(e){var t,c=Object(n.useState)([]),i=Object(_.a)(c,2),s=i[0],r=i[1],a=e.match.params.id;return Object(n.useEffect)((function(){W.getItem(a).then((function(e){return r(e.recipe)}))}),[]),Object(v.jsx)(v.Fragment,{children:null!==(t=s.length)&&void 0!==t?t:Object(v.jsxs)("section",{className:"recipe",children:[Object(v.jsxs)("div",{className:"recipe__content",children:[Object(v.jsxs)("div",{className:"recipe__info",children:[Object(v.jsx)("h2",{children:s.title}),Object(v.jsx)("p",{children:s.description}),Object(v.jsxs)("div",{className:"recipe__icons-set",children:[Object(v.jsxs)("p",{style:{color:Y[s.difficulty]},children:[Object(v.jsx)(G.InlineIcon,{icon:H.a,width:24,height:24,color:Y[s.difficulty]})," ",Z(X(s.difficulty))," "]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(G.InlineIcon,{icon:V.a,width:24,height:24,color:"#C8C8C8"}),Z(q(s.cookTime))]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(G.InlineIcon,{icon:z.a,width:24,height:24,color:"#C8C8C8"}),Z(s.caloricity+" cKal")]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(G.InlineIcon,{icon:J.a,width:24,height:24,color:"#C8C8C8"}),Z(s.cuisine.title)]})]})]}),Object(v.jsxs)("div",{className:"recipe__ingredients",children:[Object(v.jsx)("h3",{children:"Ingredients"}),Object(v.jsx)("ul",{children:s.ingredients.map((function(e,t){return Object(v.jsx)("li",{children:e},t)}))})]}),Object(v.jsxs)("div",{className:"recipe__instructions",children:[Object(v.jsx)("h3",{children:"Instructions"}),Object(v.jsx)("ol",{children:s.instructions.map((function(e,t){return Object(v.jsx)("li",{children:e},t)}))})]})]}),s.images.length>1?Object(v.jsx)(K,{images:s.images}):Object(v.jsx)("div",{className:"recipe__images",children:Object(v.jsx)("img",{className:"selectedImage",src:s.images[0],alt:""})})]})})},ee=function(e){Object(j.a)(c,e);var t=Object(u.a)(c);function c(){var e;Object(l.a)(this,c);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).fetchData=new x,e.state={allRecipes:null,recipes:null,cuisines:{Caribbean:!0,Greek:!0,French:!0,Indian:!0,Chinese:!0},caloricityValues:[100,1200],resetFilter:!1},e.resizeHeaderOnScroll=function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=document.getElementById("header-id");e>10?t.classList.add("smaller"):t.classList.remove("smaller")},e.filterRecipes=function(t){var c={recipes:e.state.allRecipes.recipes.filter((function(e){return t.cuisines[e.cuisine.title]&&e.caloricity>=t.calories[0]&&e.caloricity<=t.calories[1]}))};e.setState({recipes:c})},e.changeFilterParams=function(t,c,n){e.setState({cuisines:t,caloricityValues:c,resetFilter:n})},e.serachRecipes=function(t){var c={recipes:e.state.allRecipes.recipes.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}))};e.setState({recipes:c})},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",this.resizeHeaderOnScroll),this.fetchData.getList().then((function(t){e.setState({recipes:t,allRecipes:t})}))}},{key:"render",value:function(){return Object(v.jsxs)(d.a,{children:[Object(v.jsx)(U,{filterRecipes:this.filterRecipes,cuisines:this.state.cuisines,values:this.state.caloricityValues,changeParams:this.changeFilterParams,resetFilter:this.state.resetFilter,serachRecipes:this.serachRecipes}),Object(v.jsx)(h.a,{exact:!0,path:"/",children:this.state.recipes&&Object(v.jsx)(w,Object(a.a)({},this.state.recipes))}),Object(v.jsx)(h.a,{path:"/recipes/:id",component:$})]})}}]),c}(i.a.Component);r.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(ee,{})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.a629a9c0.chunk.js.map